
@{ ViewData["Title"] = "Edit"; }
@model RoleDetailsVM
<div class="card mb-4 border-0 shadow-sm rounded">
    <div class="card-body">
        <div class="text-danger" asp-validation-summary="ModelOnly"></div>
        <form asp-action="Edit" method="post">
            <input type="hidden" value="@Model.Role.Id" name="RoleId" />
            <input type="hidden" value="@Model.Role.Name" name="RoleName" />

            <div class="row shadow-sm">
                <div class="col">

                    <h6 class="bg-success  pl-5 pb-2 pt-2 text-white text-light rounded-0 mt-3 mb-2">
                        Add to @Model.Role.Name
                    </h6>

                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th>Id</th>
                                <th>UserName</th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody>
                            @if (Model.NonMembers.Count() == 0)
                            {
                <tr><td colspan="3">All users are members</td></tr> }
                            else
                            {
                                foreach (var none in Model.NonMembers)
                                {
                <tr>
                    <td>@none.Id</td>
                    <td>@none.UserName</td>
                    <td>
                        <div class="custom-control custom-checkbox">
                            <input type="checkbox" class="custom-control-input" id="@none.Id" name="IdsToAdd" value="@none.Id" />
                            <label class="custom-control-label" for="@none.Id">Select</label>
                        </div>
                    </td>
                </tr>}
                            }
                        </tbody>
                    </table>
                </div>
            </div>


            <div class="row mt-5 shadow-sm">
                <div class="col">

                    <h6 class="bg-danger pl-5 pb-2 pt-2 text-white rounded-0 mt-3 mb-2">
                        Delete to @Model.Role.Name
                    </h6>

                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th>Id</th>
                                <th>UserName</th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody>
                            @if (Model.Members.Count() == 0)
                            {
                <tr><td colspan="3">All users are members</td></tr> }
                            else
                            {
                                foreach (var member in Model.Members)
                                {
                <tr>
                    <td>@member.Id</td>
                    <td>@member.UserName</td>
                    <td>
                        <div class="custom-control custom-checkbox">
                            <input type="checkbox" class="custom-control-input" id="@member.Id" name="IdsToDelete" value="@member.Id" />
                            <label class="custom-control-label" for="@member.Id">Select</label>
                        </div>
                    </td>
                </tr>}
                            }
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="row mt-5">
                <div class="col">
                    <button type="submit" class="btn shadow-sm float-right btn-sm">Kaydet</button>
                </div>
            </div>

        </form>

        <div>
            <a asp-action="index">Back to list</a>
        </div>
    </div>
</div>
